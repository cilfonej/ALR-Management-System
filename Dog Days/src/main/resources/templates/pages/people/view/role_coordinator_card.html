<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
</head>

<body>
	<div th:fragment="card(role)" class="card role-card role-card_coordinator">
		<header class="card-header">
			<h2> Application Coordinator </h2>
			
			<a class="icon-button icon-button_ghost fade-icon" 
				data-micromodal-trigger="edit-role-coordinator"
				data-tippy-content="Edit">
				<i class="fa fa-pen"></i>
			</a>
		</header>
		
		<div class="role-card_content">
			<div class="role-card_info">
				<span> Email: </span>
				<span> 
					<th:block th:text="${role.email}"></th:block>
					<span data-tippy-content="Verified" class="verified-icon"></span>
				</span>
				
				<!-- if the role has an associated phone-number -->
				<th:block th:if="${role.primaryPhone != null}">
					<span> Phone: </span>
					<span class="role-card_phone" th:text="${role.primaryPhone}"></span>
				</th:block>
			</div>

			<!-- if the role has an associated mailing-address -->
			<th:block th:if="${role.mailingAddress != null}">
				<div class="role-card_address">
					<h3> Mailing Address </h3>
					<span th:text="${role.mailingAddress.streetAddress}"></span>
					<span th:text="${#Addresses.formatStateLine(role.mailingAddress)}"></span>
					<span th:text="${#Addresses.formatPostalLine(role.mailingAddress)}"></span>
				</div>
			</th:block>
		</div>
		<div th:replace="components/modal :: modal('edit-role-coordinator', 'Edit [Application Coordinator] Info', 
				~{forms/form :: edit_form(
						url=${'/edit/person/' + person.id + '/role'}, 
						class='role-edit',
						body=~{:: edit_form(${role})}
				)}
		)"></div>
	</div>

	<div th:fragment="edit_form(role)" th:remove="tag">
		<div th:replace="components/input :: form_hidden('role', 'coordinator')"></div>
		
		<div th:replace="components/input :: form_input(
			name='email', 
			
			label='Email',
			icon='fa fa-envelope',
			placeholder='Email',
			
			type='email'
		)"> </div>
		<div th:replace="components/input :: revert('email', ${role.email.toString()})"> </div>
		
		<div th:replace="components/input :: form_input(
			name='phone', 
			
			label='Phone Number',
			icon='fa fa-phone',
			
			class='phone-input',
			placeholder='(   )    -    ',
			
			type='phone'
		)"> </div>
		<div th:replace="components/input :: revert('phone', ${role.primaryPhone?.toString()})"> </div>
		
		<div th:replace="components/input :: form_address(
			name='mail_address', 
			
			label='Mailing Address (Optional)',
			icon='fa fa-mail-bulk',
			
			require=false
		)"> </div>
		<div th:replace="components/input :: revert(fields='mail_address', values=${role.mailingAddress})"> </div>
	</div>
</body>
</html>