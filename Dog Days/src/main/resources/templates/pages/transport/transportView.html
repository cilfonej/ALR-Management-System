<html xmlns:th="http://www.thymeleaf.org">
	<head>
	    <link rel="stylesheet" href="/css/forms/transport/transportView.css" />
	</head>
	
    <body>
    	<ul th:fragment="breadcrums(label)">
			<li th:replace="common/header :: breadcrum(name='Home', icon='fa-home')"></li>
			<li th:replace="common/header :: breadcrum(name='Transport', icon='fa-truck')"></li>
			<li th:replace="common/header :: breadcrum(name=${label})"></li>
		</ul>

		<div th:fragment="page(state_map, date)"
			 th:with="date_str=${#temporals.format(date, 'yyyyy-MM-dd')}"
			 class="transport-view">
			 
			<div th:replace="common/header :: title(
					'ALR - Transport ' + ${date_str}, ~{:: breadcrums(${date_str})})"></div>
	
			<div class="transport-view_header card">
				<a th:if="${prev_date != null}" th:onclick="
					Request.send([[${'/view/transport?date=' + #temporals.format(prev_date, 'yyyy-MM-dd')}]])">
						
					<i class="fa fa-arrow-left"></i> 
					<th:block th:text="${#temporals.format(prev_date, 'MMM d, yyyy')}"></th:block>
				</a>
				<div th:if="${prev_date == null}"> <!-- empty placeholder --> </div>
				
				<div class="transport-view_header-title">
					<span>  Transport Reservations on </span>
					<h3 th:text="${#temporals.format(date, 'MMMM d, yyyy')}"> </h3>
				</div>
				
				<a th:if="${next_date != null}" th:onclick="
					Request.send([[${'/view/transport?date=' + #temporals.format(next_date, 'yyyy-MM-dd')}]])">
						
					<i class="fa fa-arrow-right"></i> 
					<th:block th:text="${#temporals.format(next_date, 'MMMM d, yyyy')}"></th:block>
				</a>
				<div th:if="${next_date == null}"> <!-- empty placeholder --> </div>
				
			</div>
			
	        <div th:each="stateData : ${state_map}" th:remove="tag">
	        	<div th:replace = ":: section(${stateData.key}, ${stateData.value})"></div>
	        </div>
	        
	        <div th:if="${state_map.isEmpty()}" class="transport-view_no-content">
	        	No transports scheduled for this day
	        </div>
        </div>	 
        
        <div th:fragment="section(state, citylist)" class="transport-view_section">
        	<h2  class="transportview-state"> 
        		<th:block th:switch="${state}">
<!-- -----------------------------------------Just State Things ----------------------------------------------------------------- -->
	        		<th:block th:case="AL"> Alabama </th:block>
					<th:block th:case="AK"> Alaska </th:block>
					<th:block th:case="AZ"> Arizona</th:block>
					<th:block th:case="AR"> Arkansas</th:block>
					<th:block th:case="CA"> California</th:block>
					<th:block th:case="CO"> Colorado</th:block>
					<th:block th:case="CT"> Connecticut</th:block>
					<th:block th:case="DE"> Delaware</th:block>
					<th:block th:case="FL"> Florida</th:block>
					<th:block th:case="GA"> Georgia</th:block>
					<th:block th:case="HI"> Hawaii</th:block>
					<th:block th:case="ID"> Idaho</th:block>
					<th:block th:case="IL"> Illinois</th:block>
					<th:block th:case="IN"> Indiana</th:block>
					<th:block th:case="IA"> Iowa</th:block>
					<th:block th:case="KS"> Kansas</th:block>
					<th:block th:case="KY"> Kentucky</th:block>
					<th:block th:case="LA"> Louisiana</th:block>
					<th:block th:case="ME"> Maine</th:block>
					<th:block th:case="MD"> Maryland</th:block>
					<th:block th:case="MA"> Massachusetts</th:block>
					<th:block th:case="MI"> Michigan</th:block>
					<th:block th:case="MN"> Minnesota</th:block>
					<th:block th:case="MS"> Mississippi</th:block>
					<th:block th:case="MO"> Missouri</th:block>
					<th:block th:case="MT"> Montana</th:block>
					<th:block th:case="NE"> Nebraska</th:block>
					<th:block th:case="NV"> Nevada</th:block>
					<th:block th:case="NH"> New Hampshire</th:block>
					<th:block th:case="NJ"> New Jersey</th:block>
					<th:block th:case="NM"> New Mexico</th:block>
					<th:block th:case="NY"> New York</th:block>
					<th:block th:case="NC"> North Carolina</th:block>
					<th:block th:case="ND"> North Dakota</th:block>
					<th:block th:case="OH"> Ohio</th:block>
					<th:block th:case="OK"> Oklahoma</th:block>
					<th:block th:case="OR"> Oregon</th:block>
					<th:block th:case="PA"> Pennsylvania</th:block>
					<th:block th:case="RI"> Rhode Island</th:block>
					<th:block th:case="SC"> South Carolina</th:block>
					<th:block th:case="SD"> South Dakota</th:block>
					<th:block th:case="TN"> Tennessee</th:block>
					<th:block th:case="TX"> Texas</th:block>
					<th:block th:case="UT"> Utah</th:block>
					<th:block th:case="VT"> Vermont</th:block>
					<th:block th:case="VA"> Virginia</th:block>
					<th:block th:case="WA"> Washington</th:block>
					<th:block th:case="WV"> West Virginia</th:block>
					<th:block th:case="WI"> Wisconsin</th:block>
					<th:block th:case="WY"> Wyoming </th:block>
<!-- -----------------------------------------Just State Things ----------------------------------------------------------------- -->
			</h2>
        	
	        <div class="transportview-location">
	            <div th:each="cityCard : ${citylist}" class="transportview-location_card">
	                <div class="card-header"> 
	                	<h2 th:text="${cityCard.key}"></h2> 
	                </div>
	                
	                <table>
	                	<!-- TODO: make all of these links, for easier navigation -->
	                    <tr th:each="row : ${cityCard.value}">
	                        <td th:text="${row.dog.name + ' #' + row.dog.id}"></td>
	                        <td th:text="${row.pickupPerson?.name}"></td>
	                    </tr>
	                </table>
	            </div>   
	        </div>
        </div>     
    </body>  
</html>